<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="styles/popup.css">
    <title>TMF Timetable</title>
    <script src="src/viewToggle.js"></script>
</head>
<body>
    <div class="head">
        <div class="topnav">
            <div class="controls-left">
                <!-- View toggle -->
                <div class="toggle-switch">
                    <input type="checkbox" id="view-toggle" style="display:none"/>
                    <label for="view-toggle" class="switch-label">
                        <img src="public/user_single.png" width="25" height="25" class="userIcon" id="singleUserIcon">
                        <img src="public/user_multiple.png" width="25" height="25" class="userIcon" id="multiUserIcon">
                    </label>
                </div>
                <!-- Profile-switch -->
                <select name="profiles" id="profiles" class="profile-select" onchange="//Funktion zum profil ändern">
                    <option value="profile1">Menzer Tillmann</option>
                    <option value="profile2">Mustermann Max</option>
                </select>
            </div>
            <div class="timerange-center">
                <button class="timerange-controls">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="40" height="40">
                        <!-- Outer circle -->
                        <circle cx="50" cy="50" r="45" stroke="black" stroke-width="10" fill="none" />
                        <!-- Left arrow -->
                        <polygon points="30,50 50,30 50,40 70,40 70,60 50,60 50,70" fill="black"/>
                    </svg>
                </button>
                <h2 class="timerange-item" id="startdate">30. Juli</h2>
                <h2 class="timerange-item">-</h2>
                <h2 class="timerange-item" id="enddate">5. August</h2>
                <button class="timerange-controls">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="40" height="40" class="timerange-controls">
                        <!-- Outer circle -->
                        <circle cx="50" cy="50" r="45" stroke="black" stroke-width="10" fill="none" />
                        <!-- Right arrow -->
                        <polygon points="70,50 50,30 50,40 30,40 30,60 50,60 50,70" fill="black"/>
                    </svg>
                </button>
            </div>
            <div class="controls-right">
                <button class="buttons-right">
                    <img src="public/clipboard.png" width="auto" height="30">
                </button>
                <button class="buttons-right">
                    <img src="public/notifications.png" width="auto" height="30">
                </button>
                <button class="buttons-right">
                    <img src="public/user.png" width="auto" height="30">
                </button>
            </div>
        </div>
        <div class="week-indicator">
            <p id="week_indicator">A-Woche</p>
        </div>
    </div>

    <!-- TABLE -->
    <div class="table-wrapper">
        <table id="schedule">
            <thead>
                <tr>
                    <th><img src="/public/calendar.png" height="30px" width="auto"/></th>
                    <th>Montag</th>
                    <th>Dienstag</th>
                    <th>Mittwoch</th>
                    <th>Donnerstag</th>
                    <th>Freitag</th>
                </tr>
            </thead>
            <tbody id="scheduleBody">
                <!-- Dynamic rows will be added here -->
            </tbody>
        </table>    
    </div>

    <!-- POPUPS -->
    <!-- lesson -->
    <div id="lesson-popup" class="popup-overlay">
        <div class="popup-content" onclick="event.stopPropagation()"> <!-- the onclick is there to prevent the popup from closing when pressing inside of it -->
            <button class="close-btn" onclick="closeLessonPopup()">×</button>
            <div class="popup-centered">           
                <h2 id="subject"></h2>
                <hr class="popup-divider">
                <p id="time"></p>
            </div>
            <p><strong>Lehrkraft:</strong> <span id="teacher"></span></p>
            <p><strong>Raum:</strong> <span id="room"></span></p>
            <p class="info"><strong>Info:</strong> <span id="info"></span></p>
        </div>
    </div>
    <!-- cafe -->
    <div id="cafe-popup" class="popup-overlay">
        <div class="popup-content" onclick="event.stopPropagation()">
            <button class="close-btn" onclick="closeCafePopup()">×</button>
            <div class="popup-centered">           
                <img src="/public/cafeteria_logo_weiss.png" alt="Treffpunkt Fanny" height="80px" width="auto">
                <hr class="popup-divider">
                <p id="date"></p>
            </div>
            <p><strong>Hauptgericht:</strong> <span id="main_dish"></span></p>
            <p><strong>Vegetarisch:</strong> <span id="vegetarian_dish"></span></p>
            <p><strong>Salat:</strong> <span id="salad"></span></p>
            <p><strong>Nachtisch:</strong> <span id="desert"></span></p>
            <p class="cooking-team"><strong>Kochteam:</strong> <span id="cooking_team"></span></p>
        </div>
    </div>
    <script src="src/generateTable.js"></script>
    <script src="src/generatePopup.js"></script>
</body>
</html>
